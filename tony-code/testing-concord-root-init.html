<html>

<head>
	<script src="jquery-1.10.2.js"></script>
</head>

<body>
	<div id="messages"></div>
	<div id="fakecontainer"></div>

<script type="text/javascript">
function FakeConcord(container, options) {
	console.log("making me a fake concord!");
	this.id = 1;
	this.container = container;
	this.options = options;

	this.afterInit = function() {
		console.log("afterInit is called!");
	}

	this.init = function() {
		var root = $("<ol></ol>");
		root.addClass("concord concord-root");
		root.appendTo(container);		
		this.root = root;
		var pasteBin = $('<div class="pasteBin" contenteditable="true" style="position: absolute; height: 1px; width:1px; outline:none; overflow:hidden;"></div>');
		pasteBin.appendTo(container);
		this.pasteBin = pasteBin;
		
		this.afterInit();
	}

	this.init();

	return this;
}

function effme_some_jquery() {

	(function ($) {

		$.fn.fake_concord = function(options) {
			return new FakeConcord($(this), options);
		};

		//$(document).on("keydown", function(event) {
		//	console.log("event: %j",event);
		//	console.log("event.which: %j", event.which);
		//});

	})(jQuery);

}


function handle_ready() {
	console.log("handle ready mfer");

	effme_some_jquery();


	$("#fakecontainer").fake_concord( { effme : 1 });

}

$(document).ready(handle_ready);
</script>




</body>
</html>